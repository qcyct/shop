{"version":3,"sources":["webpack:///C:/Users/admin/Desktop/change1/change/shops/main.js","webpack:///C:/Users/admin/Desktop/change1/change/shops/pages/confirmation/confirmation.vue?fded","webpack:///C:/Users/admin/Desktop/change1/change/shops/pages/confirmation/confirmation.vue?5725","webpack:///C:/Users/admin/Desktop/change1/change/shops/pages/confirmation/confirmation.vue?ffde","webpack:///C:/Users/admin/Desktop/change1/change/shops/pages/confirmation/confirmation.vue?61f1","webpack:///C:/Users/admin/Desktop/change1/change/shops/pages/confirmation/confirmation.vue","webpack:///C:/Users/admin/Desktop/change1/change/shops/pages/confirmation/confirmation.vue?7023","webpack:///C:/Users/admin/Desktop/change1/change/shops/pages/confirmation/confirmation.vue?a03f"],"names":["createPage","Page","components","CouponItme","data","buylist","userinfo","recinfo","couponShow","content","couponListInfo","onLoad","option","getAddressBydefault","getUserInfos","isOne","$db","get","$store","getters","getGoodsList","filter","item","selected","Promise","all","map","index","resolve","reject","$api","getGoodsInfoCardById","goodsId","isflash","res","code","$set","forEach","goodsItem","couponList","goodsInfo","coupon","i","length","couponMin","goodsPrice","splice","push","couponId","onShow","uni","getStorage","key","success","e","removeStorage","onHide","filters","toFixed","x","parseFloat","computed","getNameGoodListNum","getisLogin","methods","closeCoupon","showCoupon","toPay","region","$common","errorToShow","paymentOrder","goodsIdList","len","showToast","title","icon","showLoading","shopping","goodsMoney","sumPrice","address","label","detailed","successToShow","dispatch","switchTab","url","selectAddress","navigateTo","addCardAction","setUserInfoAction","deduction","sum","reduce","a","b","couponMon","Number","goodsSale","count"],"mappings":"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","file":"pages/confirmation/confirmation.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/confirmation/confirmation.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./confirmation.vue?vue&type=template&id=8eb0fa96&\"\nvar renderjs\nimport script from \"./confirmation.vue?vue&type=script&lang=js&\"\nexport * from \"./confirmation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./confirmation.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('8eb0fa96')) {\n      api.createRecord('8eb0fa96', component.options)\n    } else {\n      api.reload('8eb0fa96', component.options)\n    }\n    module.hot.accept(\"./confirmation.vue?vue&type=template&id=8eb0fa96&\", function () {\n      api.rerender('8eb0fa96', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/admin/Desktop/change1/change/shops/pages/confirmation/confirmation.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./confirmation.vue?vue&type=template&id=8eb0fa96&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.buylist, function(row, index) {\n    var m0 = Number(row.goodsInfo.goodsSale)\n    return {\n      $orig: _vm.__get_orig(row),\n      m0: m0\n    }\n  })\n\n  var f0 = _vm._f(\"toFixed\")(_vm.deduction)\n\n  var f1 = _vm._f(\"toFixed\")(_vm.goodsPrice)\n\n  var f2 = _vm._f(\"toFixed\")(_vm.deduction)\n\n  var f3 = _vm._f(\"toFixed\")(_vm.sumPrice)\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        f0: f0,\n        f1: f1,\n        f2: f2,\n        f3: f3\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./confirmation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./confirmation.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport CouponItme from '../../components/CouponItme/CouponItme.vue';\nimport {\n\tmapActions,\n\tmapGetters\n} from \"vuex\";\nexport default {\n\tcomponents: {\n\t\tCouponItme\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tbuylist: [], //订单列表\n\t\t\tuserinfo: {},\n\t\t\trecinfo: {},\n\t\t\tcouponShow: false,\n\t\t\tcontent: '',\n\t\t\tcouponListInfo: []\n\t\t};\n\t},\n\tasync onLoad(option) {\n\t\tthis.getAddressBydefault()\n\t\tthis.userinfo = this.getUserInfos;\n\t\tif(option.isOne){\n\t\t\tthis.buylist=this.$db.get('buylist')\n\t\t}else{\n\t\t\tthis.buylist = this.$store.getters.getGoodsList.filter(item => item.selected);\n\t\t}\n\t\t// console.log(this.$store.getters.getGoodsList)\n\t\tthis.content = this.buylist\n\t\tawait Promise.all((this.buylist.map((item, index) => {\n\t\t\treturn new Promise(async (resolve, reject) => {\n\t\t\t\tthis.$api.getGoodsInfoCardById({\n\t\t\t\t\tgoodsId: item.goodsId,\n\t\t\t\t\tisflash: item.isflash\n\t\t\t\t}, (res) => {\n\t\t\t\t\tif (res.code) {\n\t\t\t\t\t\tthis.$set(this.buylist[index], 'goodsInfo', res.data)\n\t\t\t\t\t\tresolve()\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t})))\n\t\tthis.buylist.forEach(goodsItem => {\n\t\t\tlet couponList = goodsItem.goodsInfo.coupon\n\t\t\tfor (let i = 0; i < couponList.length; i++) {\n\t\t\t\tif (couponList[i].couponMin > this.goodsPrice) {\n\t\t\t\t\tcouponList.splice(i, 1)\n\t\t\t\t\t\t--i;\n\t\t\t\t} else {\n\t\t\t\t\tthis.couponListInfo.push(couponList[i].couponId)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t},\n\tonShow() {\n\t\tuni.getStorage({\n\t\t\tkey: 'selectAddress',\n\t\t\tsuccess: (e) => {\n\t\t\t\tthis.recinfo = e.data;\n\t\t\t\tuni.removeStorage({\n\t\t\t\t\tkey: 'selectAddress'\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t},\n\tonHide() {\n\n\t},\n\tfilters: {\n\t\ttoFixed: function(x) {\n\t\t\treturn parseFloat(x).toFixed(2);\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapGetters({\n\t\t\tgetGoodsList: \"getGoodsList\",\n\t\t\tgetNameGoodListNum: 'getNameGoodListNum',\n\t\t\tgetUserInfos: 'getUserInfos',\n\t\t\tgetisLogin: 'getisLogin'\n\t\t})\n\t},\n\tmethods: {\n\t\tcloseCoupon: function() {\n\t\t\tthis.couponShow = false;\n\t\t},\n\t\tshowCoupon() {\n\t\t\tthis.couponShow = true;\n\t\t},\n\t\ttoPay() {\n\t\t\tif(!this.recinfo.region){\n\t\t\t\tthis.$common.errorToShow('请先完善收货地址')\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//商品列表\n\t\t\tlet paymentOrder = [];\n\t\t\tlet goodsIdList = [];\n\t\t\tlet len = this.buylist.length;\n\t\t\tfor (let i = 0; i < len; i++) {\n\t\t\t\tpaymentOrder.push(this.buylist[i]);\n\t\t\t\tgoodsIdList.push(this.buylist[i].goodsId);\n\t\t\t}\n\t\t\tif (paymentOrder.length == 0) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '订单信息有误，请重新购买',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '正在提交订单...'\n\t\t\t})\n\n\t\t\tthis.$api.shopping({\n\t\t\t\tgoodsMoney: this.sumPrice,\n\t\t\t\taddress: this.recinfo.region.label + \"\" + this.recinfo.detailed,\n\t\t\t\tcontent: this.content,\n\t\t\t\tcouponListInfo: this.couponListInfo\n\t\t\t}, (res) => {\n\t\t\t\tif (res.code) {\n\t\t\t\t\tthis.$common.successToShow(\"购买成功\", () => {\n\t\t\t\t\t\tthis.$store.dispatch('emptyAllCardAction');\n\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\turl: '../../pages/index/index'\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tthis.$common.errorToShow(\"你的余额不足\")\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t// uni.hideLoading();\n\t\t\t// uni.redirectTo({\n\t\t\t// \turl: \"../pay/payment/payment?amount=\" + this.sumPrice\n\t\t\t// })\n\n\t\t},\n\t\t//选择收货地址\n\t\tselectAddress() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../address/address?type=select'\n\t\t\t})\n\t\t},\n\t\tgetAddressBydefault() {\n\t\t\tthis.$api.getAddressBydefault({}, res => {\n\t\t\t\tif (res.code) {\n\t\t\t\t\tthis.recinfo = res.data\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t...mapActions({\n\t\t\taddCardAction: 'addCardAction',\n\t\t\tsetUserInfoAction: 'setUserInfoAction'\n\t\t})\n\t},\n\tcomputed: {\n\t\tdeduction() {\n\t\t\tlet sum = 0;\n\t\t\ttry {\n\t\t\t\tthis.buylist.forEach(goodsItem => {\n\t\t\t\t\tif (goodsItem.goodsInfo.coupon) {\n\t\t\t\t\t\tsum += goodsItem.goodsInfo.coupon.reduce((a, b) => {\n\t\t\t\t\t\t\treturn a + b.couponMon\n\t\t\t\t\t\t}, 0)\n\t\t\t\t\t} else {\n\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} catch (e) {\n\n\t\t\t}\n\t\t\treturn sum;\n\t\t},\n\t\tgoodsPrice() {\n\t\t\tlet sum = 0;\n\t\t\ttry {\n\t\t\t\tthis.buylist.forEach(goodsItem => {\n\t\t\t\t\tsum += Number(goodsItem.goodsInfo.goodsSale) * goodsItem.count\n\t\t\t\t})\n\t\t\t} catch (e) {\n\n\t\t\t}\n\t\t\treturn sum;\n\t\t},\n\t\tsumPrice() {\n\t\t\treturn this.goodsPrice - this.deduction\n\t\t}\n\t}\n}\n","import mod from \"-!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./confirmation.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./confirmation.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}